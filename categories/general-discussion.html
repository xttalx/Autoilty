<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="0; url=../forum.html">
    <meta name="description" content="Redirecting to Forum - General discussions are merged into the Forum.">
    <meta name="keywords" content="automotive discussion, car talk, auto news, car lifestyle, automotive community Canada">
    <title>Redirecting to Forum | Autoilty</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/forum.css">
    <link rel="stylesheet" href="../css/backlinks.css">
    <link rel="stylesheet" href="../css/forum-chat.css">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9421517198875255" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="../index.html" class="brand">
                <span class="brand-name">AUTOILTY</span>
            </a>
            
            <div class="nav-links">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../forum.html" class="nav-link active">Forum</a>
                <a href="buying-selling.html" class="nav-link">Buy/Sell</a>
                <a href="../guides.html" class="nav-link">Guides</a>
                <a href="../tools.html" class="nav-link">Tools</a>
            </div>
            
            <button class="btn-primary" onclick="showSignupModal()" id="authBtn">Sign Up</button>
            <button class="btn-primary" onclick="showLoginModal()" id="loginBtn" style="background:#27ae60;">Login</button>
            <button class="btn-primary" onclick="goToProfile()" id="profileBtn" style="display:none;">My Profile</button>
            <button class="btn-primary" onclick="logout()" id="logoutBtn" style="display:none;background:#e74c3c;">Logout</button>
            <button class="mobile-toggle" onclick="toggleMobileMenu()">☰</button>
        </div>
    </nav>

    <!-- Redirect notice -->
    <div class="page-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="container">
            <div class="breadcrumb">
                <a href="../index.html">Home</a> / <a href="../forum.html">Forum</a>
            </div>
            <h1>🔀 General Discussion moved to Forum</h1>
            <p>You are being redirected to the Forum where all discussions now live.</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container" style="padding: 40px 20px; max-width: 900px; margin: 0 auto; text-align: center;">
        <p style="font-size: 16px; color: #666;">If you are not redirected automatically, click below:</p>
        <a href="../forum.html" class="btn-primary" style="display:inline-block;margin-top:12px;">Go to Forum</a>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Forum Categories</h4>
                    <ul>
                        <!-- General Discussion merged into Forum -->
                        <li><a href="maintenance-repair.html">Maintenance & Repair</a></li>
                        <li><a href="buying-selling.html">Buying & Selling</a></li>
                        <li><a href="modifications-performance.html">Modifications & Performance</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="../guides.html">Guides & Tutorials</a></li>
                        <li><a href="../reviews.html">Vehicle Reviews</a></li>
                        <li><a href="../tools/mechanic-finder.html">Mechanic Finder</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Community</h4>
                    <ul>
                        <li><a href="../about.html">About Us</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                        <li><a href="../terms.html">Terms of Service</a></li>
                        <li><a href="../privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Follow Us</h4>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook">📘</a>
                        <a href="#" aria-label="Twitter">🐦</a>
                        <a href="#" aria-label="Instagram">📷</a>
                        <a href="#" aria-label="YouTube">📺</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Autoilty - Canada's Premier Auto Directory. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Community Chat Widget -->
    <div class="community-chat-widget" id="communityChatWidget">
        <div class="chat-widget-header" onclick="toggleCommunityChat()">
            <div class="chat-widget-title">
                <span>💬</span>
                <span>Chat with Community</span>
            </div>
            <button class="chat-toggle-btn" onclick="toggleCommunityChat(); event.stopPropagation();">−</button>
        </div>
        <div id="community-chat-messages"></div>
        <div class="chat-input-area">
            <input type="text" id="community-chat-input" placeholder="Ask anything...">
            <button id="community-send-btn">📨</button>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10000;align-items:center;justify-content:center;">
        <div style="background:#fff;padding:40px;border-radius:16px;max-width:450px;width:90%;">
            <h2 style="margin-bottom:24px;">Create Account</h2>
            <input type="text" id="signupUsername" placeholder="Username" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <input type="email" id="signupEmail" placeholder="Email" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <input type="password" id="signupPassword" placeholder="Password (min 6 characters)" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <input type="password" id="signupConfirmPassword" placeholder="Confirm Password" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <button onclick="handleSignup()" style="width:100%;padding:14px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:12px;">Sign Up</button>
            <button onclick="closeSignupModal()" style="width:100%;padding:14px;background:#e0e0e0;color:#333;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:16px;">Cancel</button>
            <div style="text-align:center;padding-top:16px;border-top:1px solid #e0e0e0;">
                <p style="color:#666;margin-bottom:12px;">Already have an account?</p>
                <button onclick="closeSignupModal();showLoginModal();" style="padding:12px 24px;background:#E2231A;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;">Login Here</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10000;align-items:center;justify-content:center;">
        <div style="background:#fff;padding:40px;border-radius:16px;max-width:450px;width:90%;">
            <h2 style="margin-bottom:24px;">Login to Your Account</h2>
            <input type="text" id="loginUsername" placeholder="Username" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <input type="password" id="loginPassword" placeholder="Password" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;">
            <button onclick="handleLogin()" style="width:100%;padding:14px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:12px;">Login</button>
            <button onclick="closeLoginModal()" style="width:100%;padding:14px;background:#e0e0e0;color:#333;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:16px;">Cancel</button>
            <div style="text-align:center;padding-top:16px;border-top:1px solid #e0e0e0;">
                <p style="color:#666;margin-bottom:12px;">Don't have an account?</p>
                <button onclick="closeLoginModal();showSignupModal();" style="padding:12px 24px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;">Sign Up Here</button>
            </div>
        </div>
    </div>

    <!-- New Discussion Modal -->
    <div id="newDiscussionModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10002;align-items:center;justify-content:center;overflow-y:auto;">
        <div style="background:#fff;padding:40px;border-radius:16px;max-width:700px;width:90%;margin:40px auto;">
            <h2 style="margin-bottom:24px;">💬 Start New Discussion</h2>
            <input type="text" id="discussionTitle" placeholder="Discussion title..." style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;box-sizing:border-box;">
            <textarea id="discussionContent" placeholder="Share your thoughts, ask a question, or start a conversation..." rows="8" style="width:100%;padding:12px;margin-bottom:16px;border:2px solid #e0e0e0;border-radius:8px;resize:vertical;box-sizing:border-box;"></textarea>
            <input type="file" id="discussionImage" accept="image/*" style="width:100%;margin-bottom:16px;box-sizing:border-box;">
            <div style="font-size:12px;color:#666;margin-bottom:16px;">✓ Optional: Add an image to your discussion</div>
            <button onclick="submitNewDiscussion()" style="width:100%;padding:14px;background:#667eea;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:12px;">Post Discussion</button>
            <button onclick="closeNewDiscussionModal()" style="width:100%;padding:14px;background:#e0e0e0;color:#333;border:none;border-radius:8px;font-weight:600;cursor:pointer;">Cancel</button>
        </div>
    </div>

    <!-- Email Confirmation Modal -->
    <div id="emailConfirmModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10001;align-items:center;justify-content:center;">
        <div style="background:#fff;padding:40px;border-radius:16px;max-width:500px;width:90%;text-align:center;">
            <div style="font-size:64px;margin-bottom:20px;">📧</div>
            <h2 style="margin-bottom:16px;">Verify Your Email</h2>
            <p style="color:#666;margin-bottom:24px;">We've sent a confirmation email to:</p>
            <p style="font-weight:600;color:#27ae60;margin-bottom:24px;" id="confirmEmail"></p>
            <div style="background:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:24px;">
                <p style="font-size:14px;color:#666;margin-bottom:12px;">Your confirmation code:</p>
                <p style="font-size:24px;font-weight:700;color:#27ae60;letter-spacing:4px;" id="confirmCode"></p>
            </div>
            <p style="font-size:14px;color:#999;margin-bottom:24px;">Click the button below to simulate email confirmation</p>
            <button onclick="confirmEmail()" style="width:100%;padding:14px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;margin-bottom:12px;font-size:16px;">✓ Confirm Email</button>
            <p style="font-size:12px;color:#999;margin-top:16px;">In production, you would click a link in your email to confirm</p>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/backlinks.js"></script>
    <script src="../js/forum-chat.js"></script>
    <script src="../js/auth.js"></script>
    <script>
    // Show new discussion modal
    function showNewDiscussionModal() {
        if (!currentUser) {
            alert('Please sign up or login to start a discussion');
            showSignupModal();
            return;
        }
        document.getElementById('newDiscussionModal').style.display = 'flex';
    }
    
    // Close new discussion modal
    function closeNewDiscussionModal() {
        document.getElementById('newDiscussionModal').style.display = 'none';
        document.getElementById('discussionTitle').value = '';
        document.getElementById('discussionContent').value = '';
        document.getElementById('discussionImage').value = '';
    }
    
    // Submit new discussion
    function submitNewDiscussion() {
        const title = document.getElementById('discussionTitle').value.trim();
        const content = document.getElementById('discussionContent').value.trim();
        const imageFile = document.getElementById('discussionImage').files[0];
        
        if (!title || !content) {
            alert('Please fill in both title and content');
            return;
        }
        
        const discussion = {
            id: 'discussion_' + Date.now(),
            userId: currentUser.id,
            username: currentUser.username,
            title: title,
            content: content,
            category: 'general',
            image: null,
            created: new Date().toISOString(),
            views: 0,
            replies: 0,
            likes: 0
        };
        
        if (imageFile) {
            const reader = new FileReader();
            reader.onload = function(e) {
                discussion.image = e.target.result;
                saveAndPostDiscussion(discussion);
            };
            reader.readAsDataURL(imageFile);
        } else {
            saveAndPostDiscussion(discussion);
        }
    }
    
    function saveAndPostDiscussion(discussion) {
        let discussions = JSON.parse(localStorage.getItem('autoilty_discussions') || '[]');
        discussions.unshift(discussion);
        localStorage.setItem('autoilty_discussions', JSON.stringify(discussions));
        
        closeNewDiscussionModal();
        alert('Discussion posted successfully! Redirecting to forum...');
        window.location.href = '../forum.html';
    }
    
    function toggleCommunityChat() {
        const widget = document.getElementById('communityChatWidget');
        widget.classList.toggle('minimized');
    }
    
    // Initialize auth
    function updateAuthButton() {
        updateAuthButtons();
    }
    updateAuthButton();
    </script>
</body>
</html>

